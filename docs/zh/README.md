# 什么是Singularity

Singularity是一个端到端的工具，用于加速数据集上载到Filecoin存储提供者。它包含了您需准备超大规模数据所需的一切。

Singularity是模块化的，并包括几个与其他数据准备或交易工具和服务合作的不同功能。

使用Singularity的用户已将超过140 PiB的数据上载到Filecoin存储提供者，并且目前是Filecoin客户使用最多的数据准备工具。

## 数据准备

Singularity附带了一个数据准备模块，该模块可在本地文件系统或远程存储服务上准备数据。准备任务在数据准备工作人员之间进行分发，实现了横向扩展。

### 与40多种存储类型的集成

Singularity是第一个允许连接到40多种不同类型的远程存储服务的工具，包括从消费者产品（如Dropbox、Google Drive）到企业云存储解决方案（如AWS S3、Azure Blob存储、FTP、HDFS等）。这允许与用户现有的任何存储解决方案无缝集成。

### 内联准备

Singularity是第一个支持内联准备的工具，它消除了存储CAR文件所需的额外磁盘空间。相反，Singularity维护一个将CAR文件映射到原始数据源的元数据数据库，因此存储提供者可以直接从原始数据源导入内容。

### 保持数据集的层次结构

Singularity保持数据集的文件夹结构和文件版本，以便用户可以按文件夹浏览数据集并使用路径检索文件。

### 加密

Singularity支持内置加密解决方案，可使用提供的接收者（公钥）或硬件PIV令牌（如YubiKey）对文件进行加密。您还可以提供自定义加密脚本，以便与任何外部加密解决方案集成 \[需要测试]。

## 内容分发

Singularity本身可以用作一个轻量级的存储提供者，不涉及任何存储提供者操作，即密封和验证。用户可以使用多个协议（Graphsync、HTTP和Bitswap）从Singularity服务下载CAR文件或原始文件。

### CAR分发

如果使用内联准备，存储提供者可以从Singularity服务器下载CAR文件，因为Singularity会实时从原始数据源流式传输CAR文件，几乎没有额外开销。此下载过程也可以成为Boost市场交易的一部分，并支持多线程。

### 内容检索

对于已经准备好的所有文件，Singularity可以通过Graphsync/HTTP/Bitswap提供内容检索，因此它可以用作存储提供者的替代品，而无需进行存储证明。

## 交易管理

目前，Singularity需要您提供一份愿意接受您的交易的存储提供者列表。交易管理有两种模式，一种是推送模式，在该模式下，Singularity客户端定义如何发送交易——无论是一次性批处理还是定时cron任务。另一种是拉取模式，在该模式下，存储提供者可以自行请求交易提案，只要满足Singularity客户端设置的策略即可。

### 推送模式

Singularity客户端可以与存储提供者设置一个计划，以便在每个时间间隔内发送一定数量的交易。他们还可以配置每个计划的最大交易数或交易大小，以及允许的并行交易数。当交易被削减、过期或由于任何原因在链上消失时，Singularity负责处理交易续签。

### 拉取模式

Singularity允许存储提供者查询他们可以自己向之提出交易提案的PieceCID列表，只要这些存储提供者在交易管理自助服务政策中被允许。这样，存储提供者就有了在其密封流程中控制交易流量的终极灵活性。

### 钱包管理

Singularity允许客户端使用私钥导入Filecoin钱包，并将多个钱包与数据集关联起来。它定期检查每个钱包的数据容量，以在不同钱包之间进行负载平衡。

Singularity还支持远程签名，因此客户端可以保留自己的钱包私钥。

###